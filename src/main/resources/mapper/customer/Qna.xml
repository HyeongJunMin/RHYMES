<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Qna">
	<select id="getQnaList" parameterType="com.rhymes.app.customer.model.CustomerParam"  resultType="com.rhymes.app.customer.model.QnaDto">
       SELECT SEQ, ID, CATEGORY,REF,STEP,DEPTH,TITLE,CONTENT, WDATE, ORDERNO, FILENAME
      FROM (SELECT ROW_NUMBER()OVER(ORDER BY REF DESC, STEP ASC)AS RNUM,
					SEQ, ID, CATEGORY,REF,STEP,DEPTH,TITLE,CONTENT, WDATE, ORDERNO, FILENAME
					FROM QNA
					WHERE 1=1  
					)A
			WHERE RNUM BETWEEN ${start} AND ${end}	
			ORDER BY REF DESC, STEP ASC
    </select>
	<select id="getQnaCount" parameterType="com.rhymes.app.customer.model.CustomerParam"
		resultType="java.lang.Integer">
		SELECT IFNULL(COUNT(*), 0) AS CNT
		FROM QNA
	</select>

</mapper>
