<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MyUsed">

<select id="getMemberid" resultType="java.lang.String" parameterType="java.lang.String">
	SELECT id 
	FROM rhy_mem_p
	WHERE ID LIKE CONCAT('%',#{value},'%')
	AND subscribe = 0
	AND id not in(#{id})
	ORDER BY CHAR_LENGTH(id)
</select>

<select id="getsubscribe" resultType="java.lang.Integer">
	SELECT subscribe
	FROM rhy_mem_p
	WHERE id=#{id}
</select>

<update id="deletesubscribe">
 	UPDATE rhy_mem_p
 	SET subscribe = 0
 	WHERE id=#{id}
</update>

<update id="addsubscribe">
 	UPDATE rhy_mem_p
 	SET subscribe = 1
 	WHERE id=#{id}
</update>

</mapper> 