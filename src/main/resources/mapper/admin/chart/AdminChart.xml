<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adminChart">

<!-- 월별 총 매출 -->
<select id="getSalaryMonth" parameterType="com.rhymes.app.admin.chart.model.AdminChartSearchDTO" resultType="java.lang.Integer">
SELECT IFNULL(SUM(TOTALPRICE),0)
FROM RHY_PAYMENT
WHERE RDATE LIKE CONCAT ('%',#year_month,'%')
GROUP BY date_format(rdate, '%Y-%m')
</select>

<!-- 일별 총 매출 -->
<select id="getSalaryDay" parameterType="com.rhymes.app.admin.chart.model.AdminChartSearchDTO" resultType="java.lang.Integer">
<![CDATA[
SELECT SUM(TOTALPRICE)
FROM RHY_PAYMENT
WHERE RDATE LIKE CONCAT ('%','${search_year}-${search_month}-${search_day}','%')
GROUP BY date_format(rdate, '%Y-%m')
]]>
</select>

</mapper>