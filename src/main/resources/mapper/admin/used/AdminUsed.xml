<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adminUsed">

	<select id="getAdminUsedlist" resultType="com.rhymes.app.used.model.ProductsDto">
		SELECT *
		FROM rhy_used_products
		order by seq desc
	</select>
	
	<select id="getAdminBbsCount" parameterType="com.rhymes.app.admin.used.model.AdminBbsParam" resultType="java.lang.Integer">
	SELECT IFNULL(COUNT(*), 0)AS CNT
	FROM rhy_used_products
	WHERE 1=1
	<if test="select != null and keyword != null">
		<if test="select == 'title'">
			AND TITLE LIKE CONCAT('%',#{keyword},'%')
		</if>
		<if test="select == 'id'">
			AND S_ID LIKE CONCAT('%',#{keyword},'%')
		</if>
		<if test="select == 'category'">
			AND CATEGORY LIKE CONCAT('%',#{keyword},'%')
		</if>
	</if>
	</select>
	
	<!-- 회원 정지 -->
	<update id="getMemLock" parameterType="com.rhymes.app.member.model.MemBean">
		UPDATE RHY_MEM
		SET isAccountNonLock='false'
		WHERE ID=#{userid}
	</update>

	
</mapper>